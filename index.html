<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Anthony FARAUT - Resume</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="stylesss.css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
	<link href="http://fonts.googleapis.com/css?family=Nunito:300" rel="stylesheet" type="text/css">
	
	<link rel="icon" href="images/favicon.ico" />
</head>
<body>
	<div id="reactjson"></div>

	<script src="./lib/fr.js"></script>
	<script src="./lib/en.js"></script>
	<script src="./lib/de.js"></script>
	<!--<script src="./lib/react_resume.js"></script>-->

	<script type="text/babel">
		var language = "fr";

const data = {"fr": fr, "en": en, "de": de};

var About = React.createClass({
  displayName: "About",
  propTypes: {
    aboutData: React.PropTypes.object
  },
  rawMarkup: function() {
    var rawMarkup = marked(this.props.aboutData.summary.toString(), {sanitize: true});
    return { __html: rawMarkup };
  },
  render: function() {
    return (
      <section className="about">
        <h2 className="text-uppercase">
          <i className="fa fa-lg fa-user"></i>
          {this.props.aboutData.title}
        </h2>
        <div className="justify-align" dangerouslySetInnerHTML={this.rawMarkup()} />
      </section>
    );
  }
});

var Education = React.createClass({

  displayName: "Education",

  propTypes: {
    educationData: React.PropTypes.object
  },
  render: function render() {
    var getEducation = this.props.educationData.items.map(function (item) {

      var startDate = item.startDate;
      if (item.endDate != ""){
        startDate+= " -";
      }

      return (
        <div className="row">
          <div className="col-sm-2">
              <strong>{startDate}</strong>
              <br/>
              <strong className="enddate">{item.endDate}</strong>
          </div>
          <div className="col-sm-10">
            <strong>{item.studyType}</strong> - {item.area} - <strong><a href={item.link} target="_blank">{item.institution}</a></strong> / {item.place}
          </div>
        </div>  
      );
    });
    return (
      <section className="education">
        <h2 className="text-uppercase">
          <i className="fa fa-lg fa-mortar-board"></i>
          {this.props.educationData.title}
        </h2>
        {getEducation}
      </section>
    );
  }

});

var Profile = React.createClass({

    displayName: "Profile",

    propTypes: {
        profileData: React.PropTypes.object
    },

    rawInformation: function() {
      var rawInformation = marked(this.props.profileData.information.toString(), {sanitize: true});
      return { __html: rawInformation };
    },

    getProfileDetails: function getProfileDetails() {

        var profile = this.props.profileData;
        return (
          <div>
            <div className="profileImg">
              <img className="img-circle center-block" src={"images/" + profile.picture} />
            </div>
            <h1 className="text-center">{profile.name}</h1>
            <h2 className="text-center">{profile.label}</h2>
            <div className="divider"></div>

            <ul className="list-unstyled contact-links text-center">
              <li>
                <i className="fa fa-lg fa-location-arrow"></i>
                <a href="http://www.altivue360.com/sphere.html?fich=beaulieu.xml" target="_blank">{profile.location.city}</a>, {profile.location.region}, {profile.location.countryCode}
              </li>
              <li>
                <i className="fa fa-lg fa-envelope"></i>
                <a href={"mailto:" + profile.email} >{profile.email}</a>
              </li>
            </ul>
            <div className="divider"></div>
            <ul className="profileLinks list-inline text-center">
              <li>
                <a className="fa fa-linkedin-square fa-2x tooltips" href={profile.profiles[0].url} target="_blank"><span>{profile.profiles[0].network}</span></a>
              </li>
              <li>
                <a className="fa fa-github fa-2x tooltips" href={profile.profiles[1].url} target="_blank"><span>{profile.profiles[1].network}</span></a>
              </li>
              <li>
                <a className="fa fa-stack-overflow fa-2x tooltips" href={profile.profiles[2].url} target="_blank"><span>{profile.profiles[2].network}</span></a>
              </li>
              <li>
                <a className="fa fa-skype fa-2x tooltips" href={profile.profiles[3].url} target="_blank"><span>{profile.profiles[3].network}</span></a>
              </li>
              <li>
                <a className="fa fa-file-pdf-o fa-2x tooltips" href={profile.profiles[4].url} target="_blank"><span>{profile.profiles[4].network}</span></a>
              </li>
            </ul>
            <div className="divider"></div>
            <div className="justify-align" dangerouslySetInnerHTML={this.rawInformation()} />
          </div>
        );
    },

    render: function render() {
        if (this.props.profileData !== null) {
          return (
            <div className="profile">
              {this.getProfileDetails()}
            </div>
          );
        } else {
          return (
            <p>Loading</p>
          );
        }
    }
});

var Skills = React.createClass({

  displayName: "Skills",

  propTypes: {
    skillsData: React.PropTypes.object
  },

  render: function render() {

    var getItems = function(skill) {
      var keywordsLength = skill.keywords.length-1;
      return skill.keywords.map(function (item, index) {
        if (index != keywordsLength) {
          return (
            <span>{item}, </span>
          );
        }
        else {
          return (
            <span>{item}</span>
          );
        }
      });
    };
    var getSkills = this.props.skillsData.items.map(function (skill) {
      return (
        <div className="row">
          <div className="col-sm-2">
            <strong>{skill.name}</strong>
          </div>
          <div className="col-sm-10">
            {getItems(skill)}
          </div>
        </div>
      );
    });
    return (
      <section className="skills">
        <h2 className="text-uppercase">
          <i className="fa fa-lg fa-code"></i>
          {this.props.skillsData.title}
        </h2>
        {getSkills}
      </section>
    );
  }
});

var Work = React.createClass({

  displayName: "Work",

  propTypes: {
    workData: React.PropTypes.object
  },

  getWorkExperience: function getWorkExperience() {
    var workItems = [];
    this.props.workData.items.forEach(function(val) {
        workItems.push(<WorkItem workItemData={val} />);
    });
    return workItems;
  },

  render: function render() {
    return (
      <section className="work">
        <h2 className="text-uppercase">
          <i className="fa fa-lg fa-cubes"></i>
          {this.props.workData.title}
        </h2>
        {this.getWorkExperience()}
      </section>
    );
  }

});

var WorkItem = React.createClass({

  displayName: "WorkItem",

  propTypes: {
    workItemData: React.PropTypes.object
  },
  rawMarkup: function() {
      var rawMarkup = marked(this.props.workItemData.summary.toString(), {sanitize: true});
      return { __html: rawMarkup };
  },
  getWorkDates: function getWorkDates() {
    return(
      <div>
        <span>{this.props.workItemData.startDate} -</span>
        <br/>
        <span className="enddate">{this.props.workItemData.endDate}</span>
      </div>
    );
  },

  render: function render() {
    var getHighlights = this.props.workItemData.highlights.map(function (item) {
      return (
        <li>
          <span className="label">{item}</span>
        </li>
      );
    });
    return (
      <div className="row">
        <div className="col-sm-2">
          <strong>{this.getWorkDates()}</strong>
        </div>
        <div className="col-sm-10">
          <strong>{this.props.workItemData.position}, <span>{this.props.workItemData.company}</span> - <a href={this.props.workItemData.website} target="_blank">{this.props.workItemData.website}</a> / {this.props.workItemData.place}</strong>
          <div className="justify-align" dangerouslySetInnerHTML={this.rawMarkup()} />
          <ul className="skills-list list-inline">{getHighlights}</ul>
        </div>
      </div>
    );
  }
});

var Languages = React.createClass({
    displayName: "Languages",
    propTypes: {
        languagesData: React.PropTypes.object
    },
    render: function render() {
      var getLanguages = this.props.languagesData.items.map(function (item) {
        return (
            <div className="col-md-3">
              <img className="width-full" src={"images/" + item.link} />
              <h3 className="text-center language-title-text" >{item.language}</h3>
              <p className="text-center language-text">{item.fluency}</p>
            </div>
        );
      });
      return (
        <section className="languages">
          <h2 className="text-uppercase">
            <i className="fa fa-lg fa-globe"></i>
            {this.props.languagesData.title}
          </h2>
          <div className="row">
            {getLanguages}
          </div>
        </section>
      );
    }
});

var Interests = React.createClass({

  displayName: "Interests",

  propTypes: {
    interestsData: React.PropTypes.object
  },

  render: function render() {
   
    var getItems = function(interest) {
      var keywordsLength = interest.keywords.length-1;
      return interest.keywords.map(function (item, index) {
        if (index != keywordsLength) {
          return (
            <span>{item}, </span>
          );
        }
        else {
          return (
            <span>{item}</span>
          );
        }
      });
    };

    var getInterests = this.props.interestsData.items.map(function (interest) {
      return (
        <div className="row">
          <div className="col-sm-2">
            <strong>{interest.name}</strong>
          </div>
          <div className="col-sm-10">
            {getItems(interest)}
          </div>
        </div>
      );
    });
    return (
      <section className="skills">
        <h2 className="text-uppercase">
          <i className="fa fa-lg fa-heartbeat"></i>
          {this.props.interestsData.title}
        </h2>
        {getInterests}
      </section>
    );
  }
});

var Langue = React.createClass({
  render: function() {
    return (
      <div className="text-center">
          <a href="javascript:void(0)" onClick={this.props.handleClick_fr}>
              <img src="images/DrapeauFrancais.jpg" className="drap" alt="fr_FR" />
          </a>
          <a href="javascript:void(0)" onClick={this.props.handleClick_en}>
               <img src="images/DrapeauAnglais.jpg" className="drap" alt="en_US" />
          </a>
          <a href="javascript:void(0)" onClick={this.props.handleClick_de}>
               <img src="images/DrapeauAllemand.jpg" className="drap" alt="de_DE" />
          </a>
      </div>
    );
  }
});

var Resume = React.createClass({

  displayName: "Resume",

  getInitialState: function() {
    return {jsonObj: data[language] , data: data, language:language};
  },  
  handleClick_de: function(param){
      this.setState({language: "de"});
  },
  handleClick_en: function(param){
      this.setState({language: "en"});
  },
  handleClick_fr: function(param){
      this.setState({language: "fr"});
  },

  render: function render() {

    this.state.jsonObj = this.state.data[this.state.language];

    if (this.state.jsonObj) {
      //console.log(this.state.jsonObj.basics);
      var profile = this.state.jsonObj.basics;
      var about = { "title" : profile.title , "summary" : profile.summary};
      var work = this.state.jsonObj.work;
      var education = this.state.jsonObj.education;
      var skills = this.state.jsonObj.skills;
      var languages = this.state.jsonObj.languages; 
      var interests = this.state.jsonObj.interests;
      return (
        <div className="container">
          <div className="row">
            <aside className="col-md-3">
              <div className="inner">
                <Profile profileData={profile} />
                <Langue handleClick_en={this.handleClick_en} handleClick_de={this.handleClick_de} handleClick_fr={this.handleClick_fr} /> 
              </div>
            </aside>
            <main className="col-md-9">
              <div className="inner">
                <About aboutData={about} />
                <div className="divider"></div>
                <Work workData={work} />
                <Skills skillsData={skills} />
                <Education educationData={education} />
                <Languages languagesData={languages} />
                <Interests interestsData={interests} />
              </div>
            </main>
          </div>
        </div>
      );
    } else {
      return (
        <p>Loading</p>
      );
    }
  }
});
ReactDOM.render(<Resume data={data} language={language} />, document.getElementById('reactjson'));
	</script>


</body>
</html>
